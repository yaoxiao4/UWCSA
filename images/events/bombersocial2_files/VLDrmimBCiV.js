/*!CK:1343330577!*//*1413773553,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["52Dam"]); }

__d("KnowledgeNullableInput",["Event"],function(a,b,c,d,e,f,g){function h(i,j,k){"use strict";this.input=i;this.noValueCheckbox=j;this.noValueHiddenInput=k;this.updateInput();g.listen(j,'change',this.updateInput.bind(this));}h.prototype.updateInput=function(){"use strict";this.conditionalDisable(this.input,this.noValueCheckbox.checked);this.conditionalDisable(this.noValueHiddenInput,!this.noValueCheckbox.checked);};h.prototype.conditionalDisable=function(i,j){"use strict";if(j){this.disable(i);}else this.enable(i);};h.prototype.disable=function(i){"use strict";i.setAttribute('disabled','disabled');};h.prototype.enable=function(i){"use strict";i.removeAttribute('disabled');};e.exports=h;},null);
__d("ReviewsController",["Arbiter","Dialog","Event","React","Image.react","Run","DOM","csx","fbt","ix","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r={},s={},t={},u={},v={},w={registerButton:function(x,y){r[y]=r[y]||[];r[y].push(x);},registerViewerReview:function(x,y){s[y]=s[y]||[];s[y].push(x);},registerComposer:function(x,y){t[y]=t[y]||[];t[y].push(x);},registerToggle:function(x,y,z,aa){u[x]=u[x]||[];u[x].push([y,z,aa]);},addUserReview:function(x,y,z,aa,ba,ca){this._updateState(true,x,y,z,aa,ba,ca);},deleteUserReview:function(x,y){this._updateState(false,x,null,null,null,null,y);},_updateState:function(x,y,z,aa,ba,ca,da){var ea,fa=s[y]||[];for(ea=0;ea<fa.length;ea++)m.remove(fa[ea]);var ga=u[y]||[];for(ea=0;ea<ga.length;ea++){var ha=ga[ea],ia=ha[x?1:2];m.setContent(ha[0],ia);}var ja=t[y]||[];for(ea=0;ea<ja.length;ea++){var ka=ja[ea];if(x){ka.hide();}else{ka.clear();ka.show();}}var la=r[y]||[];for(ea=0;ea<la.length;ea++){var ma=la[ea],na=m.find(ma,'.uiButtonText'),oa=m.find(ma,'i'),pa,qa;if(x){pa=p('/images/icons/buttons/check.png');qa="Reviewed";}else{pa=p('/images/icons/buttons/feature.png');qa="Review";}var ra=m.create('span'),sa={"padding-right":"5px"};j.render(j.createElement("div",null,qa),na);j.render(j.createElement(k,{src:pa,style:sa}),ra);m.replace(oa,ra);}if(x){var ta=m.scry(document.body,'.tlPagesTipsList')[0];if(ta)m.prependContent(ta,z);var ua=m.scry(document,'#page_recommendations_browse_list')[0];if(ua)m.prependContent(ua,aa);var va=q('page_reviews_tab_list');if(va)m.prependContent(va,ba);var wa="ul._1rhx",xa=m.scry(document,wa)[0];if(xa)m.prependContent(xa,ca);}if(da){var ya=q('page_reviews_pill_and_histogram');if(ya)m.replace(ya,da);}},registerPhotoUpload:function(x,y){g.subscribe('multi-upload/images-upload-completed/'+y,function(){v[y]=false;});g.subscribe('multi-upload/images-upload-start/'+y,function(){v[y]=true;});i.listen(x,'submit',function(){if(v[y]){new h().setTitle("Photos Are Uploading").setSemiModal(true).setButtons(h.OK).setBody("Please wait until photo is uploaded before posting.").show();return false;}return true;}.bind(this));}};l.onLeave(function(){r={};s={};t={};u={};v={};});e.exports=w;},null);