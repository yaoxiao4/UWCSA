/*!CK:3211172875!*//*1411958782,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["EUVR+"]); }

__d("EventDashboardURISetter",["PageTransitions"],function(a,b,c,d,e,f,g){var h={setURI:function(i,j,k){var l='/events/';if(j&&j!='all'){l+=j;}else l+=i;if(k){window.history.pushState({subpath:l,filter:i,tab:j},document.title,l);}else if(window.location.pathname!=l)window.history.replaceState({subpath:l,filter:i},document.title,l);},initHandler:function(){window.onpopstate=function(i){if(i.state&&i.state.subpath)g.go(i.state.subpath,true);};}};e.exports=h;},null);
__d("EventsDashboardList",["DOM","FBJSON","CSS"],function(a,b,c,d,e,f,g,h,i){function j(k){"use strict";this.$EventsDashboardList0=k;}j.prototype.setOrder=function(k){"use strict";this.$EventsDashboardList1=k;};j.prototype.setData=function(k){"use strict";this.$EventsDashboardList2=k;};j.prototype.setPlaceHolder=function(k){"use strict";this.$EventsDashboardList3=k;this.$EventsDashboardList4();};j.prototype.setItems=function(k){"use strict";this.$EventsDashboardList5=k;this.$EventsDashboardList4();};j.prototype.$EventsDashboardList4=function(){"use strict";if(!this.$EventsDashboardList5||!this.$EventsDashboardList3)return;this.$EventsDashboardList6(this.$EventsDashboardList3,this.$EventsDashboardList5);};j.prototype.$EventsDashboardList6=function(k,l){"use strict";while(l.firstChild){var m=l.firstChild;if(i.hasClass(m,'fbEventsDashboardSectionHeader')){g.remove(m);continue;}var n=this.$EventsDashboardList7(k,m);if(!n){g.appendContent(k,m);}else if(n.action=='merge'){this.$EventsDashboardList6(n.node,m);g.remove(m);}else if(n.action=='insertAfter'){g.insertAfter(n.node,m);}else if(n.action=='insertBefore'){g.insertBefore(n.node,m);}else g.remove(m);}g.remove(l);};j.prototype.$EventsDashboardList7=function(k,l){"use strict";if(!i.hasClass(l,'fbEventsDashboardSection'))return null;var m=this.$EventsDashboardList8(l);for(var n=k.childNodes.length-1;n>=0;n--){var o=k.childNodes[n],p=this.$EventsDashboardList8(k.childNodes[n]);if(!p)continue;if(p==m){return {action:'merge',node:o};}else if(this.$EventsDashboardList1=='descent'&&p>m){return {action:'insertAfter',node:o};}else if(this.$EventsDashboardList1=='ascent'&&p<m)return {action:'insertAfter',node:o};}return {action:'insertBefore',node:k.firstChild};};j.prototype.$EventsDashboardList8=function(k){"use strict";if(!k.hasAttribute('data-store'))return null;var l=h.parse(k.getAttribute('data-store'),e.id);return l.date;};j.prototype.getListName=function(){"use strict";return this.$EventsDashboardList0;};e.exports=j;},null);
__d("XEventDashboardUpdateAsyncControllerURIBuilder",["XControllerURIBuilder"],function(a,b,c,d,e,f){e.exports=b("XControllerURIBuilder").create("\/events\/dashboard\/update\/",{event_id:{type:"Int",required:true},action:{type:"Enum",required:true},params:{type:"StringToStringMap"}});},null);
__d("EventsDashboardView",["AsyncRequest","EventsDashboardList","XEventDashboardUpdateAsyncControllerURIBuilder"],function(a,b,c,d,e,f,g,h,i){var j={addList:function(k,l,m){var n=this._findList(k);n.setOrder(m);n.setPlaceHolder(l);},addItems:function(k,l,m){var n=this._findList(k);n.setData(m);n.setItems(l);},setView:function(k,l){if(!this._view_data)this._view_data={};this._view_data[k]=l;},update:function(k,l,m){if(!this._view_data)return;var n={};k.forEach(function(p){n[p]=this._view_data[p];},this);var o=new i().setInt('event_id',l).setEnum('action',m).setStringToStringMap('params',n).getURI();new g(o).send();},_findList:function(k){if(!this._lists)this._lists=[];var l=null;for(var m=0;m<this._lists.length;m++)if(this._lists[m].getListName()==k){l=this._lists[m];break;}if(!l){l=new h(k);this._lists.push(l);}return l;}};e.exports=j;},null);